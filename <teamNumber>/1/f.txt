CREATE TABLE ROTATEDX (X FLOAT(24), id INT AUTO_INCREMENT PRIMARY KEY);
CREATE TABLE ROTATEDY (Y FLOAT(24), id INT AUTO_INCREMENT PRIMARY KEY);
CREATE TABLE ROTATEDZ (Z FLOAT(24), id INT AUTO_INCREMENT PRIMARY KEY);
CREATE TABLE ROTATED (X FLOAT(24),Y FLOAT(24),Z FLOAT(24) ,id INT AUTO_INCREMENT PRIMARY KEY);


INSERT INTO ROTATEDX (X) SELECT P.X*R.X+P.Y*R.Y+P.Z*R.Z FROM POINT P,ROTATE R WHERE R.id = 1;
INSERT INTO ROTATEDY (Y)  SELECT P.X*R.X+P.Y*R.Y+P.Z*R.Z FROM POINT P,ROTATE R WHERE R.id = 2;
INSERT INTO ROTATEDZ (Z)  SELECT P.X*R.X+P.Y*R.Y+P.Z*R.Z FROM POINT P,ROTATE R WHERE R.id = 3;
INSERT INTO ROTATED (X,Y,Z)  SELECT RX.X,RY.Y,RZ.Z FROM ROTATEDX RX JOIN ROTATEDY RY ON RX.id=RY.id JOIN ROTATEDZ RZ N RY.id=RZ.id;
